# ğŸ’° Kobbo - Gestion des DÃ©penses et Recettes Multi-SociÃ©tÃ©s

Kobbo est une application de gestion des finances personnelles et professionnelles permettant Ã 
un utilisateur de gÃ©rer ses dÃ©penses et recettes dans plusieurs sociÃ©tÃ©s Ã  partir dâ€™un seul compte.

---

## ğŸ“Œ FonctionnalitÃ©s principales

- Gestion multi-sociÃ©tÃ©s avec isolation logique des donnÃ©es
- Un utilisateur unique peut avoir plusieurs comptes dans diffÃ©rentes sociÃ©tÃ©s
- DÃ©finition de rÃ´les personnalisÃ©s par sociÃ©tÃ©
- Suivi des opÃ©rations (dÃ©penses / recettes)
- CatÃ©gorisation des opÃ©rations par nature
- Gestion des tiers (clients, fournisseurs, etc.)
- PiÃ¨ces justificatives (upload de fichiers via URL)

---

## ğŸ§± ModÃ¨le de donnÃ©es relationnel

L'application repose sur une base de donnÃ©es MySQL structurÃ©e comme suit :

### Tables et relations :

- **`societes`** : EntitÃ©s indÃ©pendantes reprÃ©sentant des entreprises.
- **`utilisateurs`** : Comptes d'accÃ¨s individuels, uniques et globaux.
- **`roles`** : DÃ©finis par chaque sociÃ©tÃ©, utilisÃ©s pour les autorisations.
- **`comptes_societe`** : Lien entre utilisateur, rÃ´le et sociÃ©tÃ©.
- **`tiers`** : Clients, fournisseurs, ou autres entitÃ©s externes associÃ©es Ã  des opÃ©rations.
- **`natures`** : CatÃ©gories d'opÃ©rations personnalisables par utilisateur-sociÃ©tÃ©.
- **`operations`** : ReprÃ©sentent les transactions financiÃ¨res (recettes ou dÃ©penses).

ğŸ“Š Un diagramme UML est fourni pour visualiser les relations entre les entitÃ©s :

![Diagramme - Kobbo](Diagramme_kobbo.png)

---

## âš™ï¸ Technologies utilisÃ©es

- **Langage** : SQL / Java / Spring Boot
- **Base de donnÃ©es** : MySQL
- **SÃ©curitÃ©** : UUID, contraintes d'intÃ©gritÃ©, authentification (JWT)
- **Frontend** : Libre choix (Angular, React, etc.)

---

## ğŸ“ Processus de crÃ©ation de compte et dâ€™authentification

La crÃ©ation de compte sur la plateforme suit un processus bien dÃ©fini garantissant la cohÃ©rence des donnÃ©es en base et
une expÃ©rience utilisateur fluide.

### ğŸ§¾ Ã‰tapes de crÃ©ation de compte

AccÃ¨s au formulaire d'inscription :
L'utilisateur clique sur le bouton CrÃ©er un compte ou Inscription sur la page d'accueil.

Remplissage du formulaire :
Le formulaire comprend les champs suivants :

SociÃ©tÃ© : nom ou raison sociale de la sociÃ©tÃ© Ã  crÃ©er

Nom de lâ€™utilisateur

Email

Mot de passe

RÃ´le : automatiquement fixÃ© Ã  ADMINISTRATEUR (non modifiable)

Enregistrement en base :
Une transaction unique est dÃ©clenchÃ©e pour enregistrer les donnÃ©es dans lâ€™ordre suivant :

Table societes

Table roles

Table utilisateurs

Table comptes_societe (associant lâ€™utilisateur, le rÃ´le et la sociÃ©tÃ©)

Redirection vers la page de connexion :
Une fois lâ€™inscription rÃ©ussie, lâ€™utilisateur est invitÃ© Ã  se connecter via un formulaire de connexion.

### ğŸ” Authentification

Lâ€™utilisateur saisit son email et mot de passe.

Si les identifiants sont valides, un JWT (JSON Web Token) est gÃ©nÃ©rÃ© et retournÃ© dans la rÃ©ponse.

Une fois authentifiÃ©, l'utilisateur est redirigÃ© vers une page affichant la liste de ses sociÃ©tÃ©s.

### ğŸ¢ SÃ©lection de la sociÃ©tÃ© et navigation

L'utilisateur sÃ©lectionne une sociÃ©tÃ© pour dÃ©finir le contexte dâ€™exÃ©cution.

Une fois la sociÃ©tÃ© choisie, le menu principal est affichÃ©, donnant accÃ¨s aux diffÃ©rentes fonctionnalitÃ©s (gestion des
utilisateurs, rÃ´les, transactions, etc.).

### â• CrÃ©ation de nouvelles sociÃ©tÃ©s (post-inscription)

Un utilisateur authentifiÃ© peut crÃ©er de nouvelles sociÃ©tÃ©s (si son rÃ´le le permet).

Pour chaque nouvelle sociÃ©tÃ© crÃ©Ã©e, un nouveau lien est Ã©tabli dans la table comptes_societe.

# ğŸ“‹ Endpoints REST - Kobbo API

| MÃ©thode | Endpoint                             | Description                               |
|---------|--------------------------------------|-------------------------------------------|
| POST    | `/api/auth/register`                 | CrÃ©er un compte utilisateur avec sociÃ©tÃ©  |
| POST    | `/api/auth/login`                    | Connexion utilisateur, renvoie un JWT     |
| GET     | `/api/societes`                      | Lister les sociÃ©tÃ©s dâ€™un utilisateur      |
| POST    | `/api/societes`                      | CrÃ©er une sociÃ©tÃ©                         |
| GET     | `/api/societes/{id}/utilisateurs`    | Liste des utilisateurs dâ€™une sociÃ©tÃ©      |
| POST    | `/api/societes/{id}/utilisateurs`    | Ajouter un utilisateur Ã  une sociÃ©tÃ©      |
| GET     | `/api/societes/{id}/roles`           | Lister les rÃ´les disponibles              |
| POST    | `/api/societes/{id}/roles`           | Ajouter un rÃ´le Ã  la sociÃ©tÃ©              |
| GET     | `/api/affectations?societeId={uuid}` | Liste des affectations dâ€™une sociÃ©tÃ©      |
| POST    | `/api/affectations`                  | CrÃ©er une affectation utilisateur-sociÃ©tÃ© |

## ğŸš€ Installation

### ğŸ”§ PrÃ©requis

- Java 17+
- MySQL 8+
- Maven / Gradle
- (Optionnel) Docker & Docker Compose

### ğŸ“¥ Ã‰tapes

1. Clonez le projet :

```bash
git clone https://github.com/votre-utilisateur/kobbo.git
cd kobbo
```

### ğŸ¤ Contribution

Les contributions sont les bienvenues !

Forkez le projet

CrÃ©ez une branche (feature/ma-fonctionnalite)

Commitez vos modifications (git commit -am 'Ajout nouvelle fonctionnalitÃ©')

Pushez (git push origin feature/ma-fonctionnalite)

Ouvrez une Pull Request

### ğŸ‘¨â€ğŸ’» Auteur

DÃ©veloppÃ© avec â¤ï¸ par Corneille GBEAGA.
Contact : cgbeaga@gmail.com

---
